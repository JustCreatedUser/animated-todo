import mongoose from "mongoose";const taskSchema=new mongoose.Schema({title:{type:String,required:!0,unique:!0,validate:{validator(value){if(value.length>50)return!1;return!0},message:"Title too long",},},completed:{type:Boolean,required:!0,default:!1,},expirationDate:{type:String,required:!0,validate:{validator(value){const dateRegexp=/^\d{4}-\d{2}-\d{2}$/;if(!dateRegexp.test(value))return!1;const dateArray=value.split("-");if(dateArray[0]<2024||dateArray[1]<1||dateArray[1]>12||dateArray[2]<1||dateArray[2]>31)
  return!1;if(new Date(value)>new Date().setFullYear(new Date().getFullYear()+10))
  return!1;return!0},message:"Invalid date format",},},priority:{type:String,required:!0,enum:["high","middle","low"],},});const Task=mongoose.model("Task",taskSchema);export default Task